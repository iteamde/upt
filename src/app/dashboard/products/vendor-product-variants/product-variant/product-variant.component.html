<fa name="times-circle" (click)="deleteVendor()"></fa>
<app-vendor-product-package
  *ngFor="let package of vendor.inventory_by; let i = index"
  [package]="package"
  [additional]="vendor.additional"
  (fillAll)="onFillAll($event)"
  (fillColumn)="onFillColumn($event)">
</app-vendor-product-package>

<div class="row">
  <div class="col s4 flex">
    <div class="input-checkbox">
      <input type="checkbox" class="checkbox-input" [(ngModel)]="selected" (change)="selectAll()" id="{{uniqueId}}+'selectAll'"/>
      <label for="{{uniqueId}}+'selectAll'"></label>
    </div>

    Product Variant Name
  </div>
  <div class="col s8">
    <div class="col s1">
      Image
    </div>
    <div class="col s2">
      Manufacturer #
    </div>
    <div class="col s2">
      Barcode
    </div>
    <div class="col s2">
      Catalog #
    </div>
    <div class="col s2">
      List $
    </div>
    <div class="col s2">
      Our $
    </div>
    <div class="col s1">
      Club $
    </div>
  </div>
</div>
<div class="row" *ngFor='let variant of vendor.variants; let i = index'>
  <div class="col s4 flex">
    <div class="input-checkbox">
      <input type="checkbox" class="checkbox-input" [(ngModel)]="variant.enabled" id={{uniqueId+i}}/>
      <label for={{uniqueId+i}}></label>
    </div>
    <div class="wrap-variant-name">
      <input type="text" [(ngModel)]="variant.name" title="{{variant.name}}" class="validate-variant-name col s12" required #variantName="ngModel">
    </div>
  </div>
  <div class="col s8">
    <div class="col s1 row-input">
      <div class="container-variants-image">
        <div class="input add-attachment container-variants">
          <div class="file-field">
            <div class="upload-link">
              <div class="upload-link image-variants-input">
                <div *ngIf="variant.image">
                  <img src={{variant.image}} alt="" class="image-variants" (click)="showImage(variant)">
                </div>
                <div *ngIf="!variant.image">
                  <input type="file" (change)="openUploadImageModal($event, variant)">
                  <a class="image-variants-link">Upload</a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div *ngIf="variant.image" class="del-img-btn del-img-variants-icon" (click)="variant.image = null">
          <i class="material-icons">delete</i>
        </div>
      </div>
    </div>
    <div class="col s2 row-input">
      <input type="text" [(ngModel)]="variant.mfg_number" placeholder="Manufacturer #">
    </div>
    <div class="col s2 row-input relative">
      <input type="text" [(ngModel)]="variant.upc" placeholder="Barcode">
      <app-scanner (searchText)="variant.upc = $event"></app-scanner>
    </div>
    <div class="col s2 row-input">
      <input type="text" [(ngModel)]="variant.catalog_number" placeholder="Catalog #">
    </div>

    <div class="col s2 row-input">
      <app-price-input
        [placeholder]="'List $'"
        [(ngModel)]="variant.list_price"
        (ngModelChange)='onFillOur(variant.list_price, i)'>
      </app-price-input>
    </div>
    <div class="col s2 row-input">
      <app-price-input
        [placeholder]="'Our $'"
        [(ngModel)]="variant.our_price">
      </app-price-input>
    </div>
    <div class="col s1 row-input">
      <app-price-input
        [placeholder]="'Club $'"
        [(ngModel)]="variant.club_price">
      </app-price-input>
    </div>
  </div>
</div>
<div class="variant-image-wrapper" *ngIf="selectedVariant">
  <div class="variant-image-wrap-box">
    <div class="close close-image-selected-variants" (click)="closeImage()"></div>
    <div class="box">
      <img src={{selectedVariant.image}} alt="Vendor image" class="image-selected-variants">
    </div>
  </div>
</div>



