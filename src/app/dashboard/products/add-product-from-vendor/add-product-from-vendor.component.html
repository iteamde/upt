<div class="container">
  <div class="row">
    <div class="col s12">
      {{product.name}}
    </div>
    <div class="col s8 offset-s5">
      Vendors
    </div>
  </div>

  <div class="row">
    <div class="col s8 offset-s5">
        <div class="title">
            Which vendors do you get this product from?
        </div>
    </div>
  </div>

  <div class="row">
    <div class="col s12">
      <div class="col s4 offset-s5">
        <input type="text" auto-complete
              placeholder="Search vendors"
              [min-chars] = '1'
              (ngModelChange) = 'selectedAutocompletedVendor($event)'
              [list-formatter] = '"vendor_name"'
              [ngModel] = "vendor.vendor_name"
              [tab-to-select] = 'false'
              name="vendor"
              required
        />
      </div>
      <div class="col s2">
        <button class="bluebtn waves-light waves-effect">
          <fa [name]="'plus'"></fa>
          Add
        </button>
      </div>
    </div>
  </div>

  <div class="row">
      <div class="col s1 offset-s5">
          <button class="bluebtn custom-vendor-btn waves-light waves-effect">
            <fa [name]="'plus'"></fa>
            Custom vendor
          </button>
        </div>
  </div>


  <div class="row fill-all-selected">
    <div class="col s1 offset-s1">
      <div class="input-checkbox checkbox">
        <input
          type="checkbox"
          class="checkbox-input"
          [(ngModel)]="selectAll"
          id="selectAll"
        />
        <label for="selectAll"></label>
      </div>
    </div>
    <div class="col s2 select-title">
      Select All
    </div>
    <div class="col s2 book-price center-align">
      <p>Book Price $</p>
      <input (click)="$event.stopPropagation();" type="text" class="yourprice" [(ngModel)]="item.book_price" >
    </div>
    <div class="col s2 your-price center-align">
      <p>Your Price $</p>
      <input (click)="$event.stopPropagation();" type="text" class="yourprice" [(ngModel)]="item.your_price" >
    </div>
    <div class="col s2 club-price center-align">
      <p>Club Price $<i class="fa fa-question-circle " aria-hidden="true"></i></p>
      <input (click)="$event.stopPropagation();" type="text" class="yourprice" [(ngModel)]="item.club_price" >
    </div>
    <button class="bluebtn waves-light waves-effect">
      Fill all selected
    </button>
  </div>
</div>
<app-product-variant
  [selectAll]="selectAll"
  *ngFor="let variant of variants"
  [variant]="variant" >
</app-product-variant>

<!--    -->
<!--    -->
<!--    -->
<!--    -->
<!--    -->
<!--    -->
<!--    -->
<!--    -->
<!--    -->
<!--    -->
<!--    -->
<!--    -->
<!--    -->
<!--    -->
<!--    -->
<!--    -->
<!--    -->
<!--    -->
<!--    -->
<!--    -->
<!--    -->
<!--    -->
<!--    -->
<!--    -->
<div style="height:500px">Remove me after......</div>

<div class="product-page">
  <div class="close fa fa-chevron-left" (click)="goBack()"></div>
  <div class="row right edit-buttons">
    <button class="bt-edit-product edbtn bluebtn  waves-light waves-effect" *ngIf="!showEdit" (click)="showEditFields()">
      <fa [name]="'plus'"></fa>
      Add
    </button>
    <button class="bt-edit-product-save edbtn bluebtn waves-light waves-effect" (click)="saveAfterEdit()" *ngIf="showEdit">
      <fa [name]="'check'"></fa>
      Save
    </button>

  </div>
  <div class="inner" [ngClass]="{'edit-mode':showEdit}">
    <div class="title center-align">Add Product
      <p>Please select which variants<i class="fa fa-question-circle " aria-hidden="true"></i>you would like to add to your marketplace</p>
    </div>
    <div class="row uptracker-form">
      <div class="info-box col s12 ">

        <div class="img-container left upload-link file-field">
          <div class="img"  [ngStyle]="{ 'background-image': 'url(' + xxxxx + ')' }">
              <label>Upload picture</label>
              <input type="file" />  
          </div>
        </div>

        <div class="left product-params">
          <div class="ttl-box row input">
            <div class="col s3 add-own-product">
              <input type="text" [(ngModel)]="nickName"/><i class="fa fa-question-circle " aria-hidden="true"></i>
            </div>
          </div>

          <div class="ttl-box row input">
              <div class="col s3">
                <label>Technical name</label>
                <input type="text" [(ngModel)]="TechnicalName" />
              </div>
          </div>

          <div class="row">
            <div class="col s2 variant-checkbox head-item" >
              <div class="checkbox input-checkbox ">
                <label>Hazardous</label>
                <input
                  type="checkbox"
                  class="input-checkbox"
                  id="checkbox1"
                />
                <label for="checkbox1"></label>
              </div>
            </div>
            
            <div class="col s2 variant-checkbox head-item" >
              <div class="checkbox input-checkbox ">
                <label>Trackable</label>
                <input
                  type="checkbox"
                  class="input-checkbox"
                  id="checkbox2"
                />
                <label for="checkbox2"></label>
              </div>
            </div>

            <div class="col s2 variant-checkbox head-item" >
              <div class="checkbox input-checkbox ">
                <label>Tax Exempt</label>
                <input
                  type="checkbox"
                  class="input-checkbox"
                  id="checkbox3"
                />
                <label for="checkbox3"></label>
              </div>
            </div>
          </div>  
          

          <div class="row">
            <div class="col s2 input">
              <label>Department</label>
              <div class="select">
                <select
                  materialize="material_select"
                  [materializeSelectOptions]="departmentCollection">
                  <option *ngFor="let item of departmentCollection" [value]="item">{{item}}</option>
                </select>
              </div>
            </div>

            <div class="col s2 input" >
              <label>Category</label>
              <div class="select">
                <select
                  materialize="material_select"
                  [materializeSelectOptions]="productCategoriesCollection">
                  <option *ngFor="let cat of productCategoriesCollection" [value]="cat">{{cat}}
                  </option>
                </select>
              </div>
            </div>
          

            <div class="col s2 input" >
              <label>Accounting</label>
              <div class="select">
                <select
                  materialize="material_select"
                  [materializeSelectOptions]="productAccountingCollection">
                  <option *ngFor="let acc of productAccountingCollection" [value]="acc">{{acc}}
                  </option>
                </select>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col s5">
              <div class="text">
                <div class="file-field">
                  <div class="upload-link">
                    <input type="file" (change)="changeListener($event)" />
                    <a href="javascript:void(0)">Attech File</a>
                  </div>
                </div>
              </div>
            </div>
            <div class="col s5 pricing-rule">     
              <a href="javascript:void(0)">Pricing Rule</a><i class="fa fa-question-circle " aria-hidden="true"></i>
            </div>
          </div>

          <div class="row">
            <div class="col s5">
                <input type="text" />
            </div>
          </div>

          <div class="row">
            <div *ngFor="let attr of currentVariant.custom_attr" class="col s2">
              <label class="top">{{attr.name}}</label>
              <div class="value">{{attr.value}}</div>
            </div>
          </div>
        </div>
      </div>
    </div>


    <div class="clearfix"></div>



    <div class="row table-head-filter">
      <div class="col s12">
        <ul class="tabs" materialize="tabs">
          <li class="tab col s2">
            <a href="#variations">{{showVariant ? 'Vendors' : 'Variations'}}</a>
          </li>
        </ul>
      </div>
    </div>

    <div id="variations">
      <div *ngIf="!showVariant" class="inner product">
        <div class="variant-table">
          <div class="uptracker-form variant-head">
            <div class="variant-checkbox head-item">
              <div class="checkbox input-checkbox ">
                <input
                  type="checkbox"
                  class="checkbox-input"
                  (change)="headCheckboxChange()"
                  id="variation-checkbox"
                />
                <label for="variation-checkbox"></label>
              </div>
            </div>
            <div class="name-heading head-item">
              <div class="input">
                <input
                  type="text"
                  class="name-input"
                  ngModel
                  (input)="changeName($event)"
                  placeholder="Name"
                  #name="ngModel"/>
              </div>
            </div>
            <div class="small-heading  head-item">
              <div class="select ultra-low-height">
                <select
                  [(ngModel)]="variation.package_type"
                  #pkg="ngModel"
                  materialize="material_select"
                  (change)="changePkg($event)"
                  [materializeSelectOptions]="variationArrs.package_type">
                  <option value="">Pkg</option>
                  <option *ngFor="let item of variationArrs.package_type" [value]="item">{{item}}</option>
                </select>
              </div>
            </div>
            <div class="small-heading head-item">
              <div class="select ultra-low-height">
                <select
                  [(ngModel)]="variation.unit_type"
                  #unit="ngModel"
                  materialize="material_select"
                  (change)="changeUnit($event)"
                  [materializeSelectOptions]="variationArrs.unit_type">
                  <option value="">Unit</option>
                  <option *ngFor="let item of variationArrs.unit_type" [value]="item">{{item}}</option>
                </select>
              </div>
            </div>
            <div class="small-heading head-item">
              <div class="select ultra-low-height">
                <select
                  [(ngModel)]="variation.units_per_package"
                  #units_pkg="ngModel"
                  materialize="material_select"
                  (change)="changeUnitsPkg($event)"
                  [materializeSelectOptions]="variationArrs.units_per_package">
                  <option value="">Qty</option>
                  <option *ngFor="let item of variationArrs.units_per_package" [value]="item">{{item}}
                  </option>
                </select>
              </div>
            </div>

            <div class="text-heading valign-wrapper head-item">
              <div class="text-head valign">
                Total consumable units
              </div>
            </div>



          
            <div class="flor">
              <!-- 
              <div *ngIf="!showEdit" class="add-order-heading head-item">
                <button
                  (click)="bulkAddToOrder()"
                  class="uptracker-form-btn waves-light waves-effect add-order-btn"
                  [disabled]="!addOrderVariantsButtonShow">
                  <i class="fa fa-shopping-cart" aria-hidden="true"></i>
                  Add to Order
                </button>
              </div>
              <div *ngIf="showEdit" class="visibility-heading head-item">
                <i class="material-icons noselect" (click)="toggleVariationVisibility()">
                  {{variation.status != 2 ? "visibility" : "visibility_off"}}
                </i>
              </div>
               -->
              <div class="filter-heading noselect head-item">
                <fa [name]="'filter'"></fa>
              </div>
            </div>
         

            <div class="clearfix"></div>
          </div>
        </div>

        <div class="table-body">
          <div class="variant-table">
            <div class="uptracker-form  table-item"
              *ngFor="let variant of filteredVariants$ | async"
              (click)="toggleVariantDetailView(variant)">
              <div class="variant-checkbox row-item">
                <div class="checkbox input-checkbox">
                  <input
                    type="checkbox"
                    class="checkbox-input"
                    [(ngModel)]="variant.checked"
                    (change)="variantCheckedChange()"
                    id="{{variant.id}}"
                  />
                  <label for="{{variant.id}}"></label>
                </div>
              </div>
              <div class="name-heading variant-name row-item valign-wrapper">
              <span (click)="showVariantDetails($event,variant)"
                *ngIf="!showEdit"
                [class.reddish]="variant.status == 2"
                class="valign"
              >{{variant.name || "Product Here"}}</span>
                <div *ngIf="showEdit" class="input">
                  <input class="col s12 name-field greenborder" [(ngModel)]="variant.name" type="text">
                </div>
              </div>
              <div class="small-heading row-item">{{variant.package_type || ""}}</div>
              <div class="small-heading row-item">{{variant.unit_type || ""}}</div>
              <div class="small-heading row-item">{{variant.units_per_package || ""}}</div>
              <div class="text-heading row-item nowrap">{{variant.price_range || ""}}</div>

              <!--
              <div class="flor">
                <div *ngIf="showEdit" class="edit-variant visibility-heading row-item">
                  <i class="fa fa-eye  variant-func"
                    [class.fa-eye]="variant.status == 1"
                    [class.fa-eye-slash]="variant.status == 2"
                    (click)="toggleVariantVisibility(variant)"
                    aria-hidden="true"></i>
                </div>
                <div *ngIf="!showEdit"
                  (click)="addToOrder(variant)"
                  class="add-order-col add-order-heading row-item">
                  <button class=" variant-func uptracker-form-btn waves-light waves-effect add-order-btn">
                    <i
                      class="fa fa-shopping-cart" aria-hidden="true"></i>
                    Add to Order
                  </button>
                </div>
              </div>
            -->
              <div class="clearfix"></div>
          <!--
              <app-variant-detail [showEdit]="showEdit"
                [product_id]="product_id"
                [variant]="variant"
                *ngIf="variant.detailView">
              </app-variant-detail>
          -->
            </div>
          </div>
        </div>
      </div>
 
    <!--
      <div *ngIf="showVariant" class="inner show-variant">
        <div class="variant-table">
          <div class="uptracker-form variant-head">
            <div class="name-heading head-item">
              <div class="input">
                <input
                  type="text"
                  class="name-input"
                  ngModel
                  (input)="changeNameVV($event)"
                  placeholder="Name"
                  #name="ngModel"/>
              </div>
            </div>
            <div class=" head-item ">Catalog#</div>
            <div class=" head-item ">Avg Time</div>
            <div class=" head-item ">Book $</div>
            <div class=" head-item ">Your $</div>
            <div class=" head-item ">Club $</div>
            <div class=" head-item ">Forum $</div>
            <div class="flor">
              <div *ngIf="!showEdit  && !showVariant" class="add-order-heading head-item">
                <button
                  class="uptracker-form-btn waves-light waves-effect add-order-btn"
                  (click)="addToOrder()"

                  [disabled]="!addOrderVariantsButtonShow">
                  <i class="fa fa-shopping-cart" aria-hidden="true"></i>
                  Add to Order
                </button>
              </div>

              <div class="filter-heading noselect head-item">
                <fa [name]="'filter'"></fa>
              </div>
            </div>
            <div class="clearfix"></div>
          </div>
        </div>

        <div class="table-body">
          <div class="variant-table">
            <div *ngFor="let item of currentVariant.vendor_variants" class="uptracker-form  table-item">
              <div class="flex-middle name-heading row-item">
                <a [routerLink]="'/vendors/view/'+[item.vendor_id]" target="_blank">
                  {{item.vendor_name || ""}}
                </a>
              </div>
              <div class="row-item nowrap">{{item.catalog_number || ""}}</div>
              <div class="row-item">{{item.avg_lead_time || ""}}</div>
              <div class="row-item">{{item.price || ""}}</div>

              <div class="row-item">
                <span *ngIf="!showEdit">
                  {{item.your_price}}
                </span>
                <div *ngIf="showEdit" class="input variant-detail-table-head-item">
                  <input (click)="$event.stopPropagation();" type="text" class="yourprice" [(ngModel)]="item.your_price" >
                </div>
              </div>

              <div class="row-item">{{item.club_price || ""}}</div>
              <div class="row-item">{{item.forum_price || ""}}</div>
              <div *ngIf="!showEdit" class="add-order-heading right head-item">
                <button
                  class="uptracker-form-btn waves-light waves-effect add-order-btn"
                  (click)="addToOrder(currentVariant, item)">
                  <i class="fa fa-shopping-cart" aria-hidden="true"></i>
                  Add to Order
                </button>
              </div>
              <div class="clearfix"></div>
            </div>
          </div>
        </div>
      </div>
    -->
    </div>
  </div>
</div>

